<ul class="navbar-nav ml-auto">
    {% for link in header_menu %}
    <li class="nav-item {% if request.resolver_match.url_name == link.href %}active{% endif %}">
        <a class="nav-link" href="{% url link.href %}">{{ link.name }}</a>
    </li>
    {% endfor %}

    {% if user.is_authenticated %}
    <li class="nav-item {% if request.resolver_match.url_name == link.href %}active{% endif %}">
        <a class="nav-link" href="{% url 'auth:edit' %}">{{ user.first_name|default:'Пользователь' }}</a>
    </li>
    {% endif %}

    <li class="nav-item {% if request.resolver_match.url_name == link.href %}active{% endif %}">
        {% if user.is_authenticated %}
          <a class="nav-link" href="{% url 'auth:logout' %}">Выйти</a>
        {% else %}
          <a class="nav-link" href="{% url 'auth:login' %}">>Вход</a>
        {% endif %}
    </li>

    <li class="nav-item {% if request.resolver_match.url_name == link.href %}active{% endif %}">

          <a href="{% url 'cart:view' %}" class="nav-link" >
              <span>
                  {% if cart %} {{ cart|length }} {% endif %}
              </span>
          </a>
    </li>

</ul>

